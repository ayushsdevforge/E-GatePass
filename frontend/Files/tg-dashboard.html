<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TG Dashboard</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/tg-dashboard.css">
  <link rel="stylesheet" href="css/navbar-modern.css" />
  <link rel="stylesheet" href="css/footer.css" />
  <link rel="stylesheet" href="css/section-fix.css" />
  <link rel="stylesheet" href="css/auth-modal.css" />
  <link rel="stylesheet" href="css/change-password.css" />
  <link rel="stylesheet" href="css/line-effect.css" />
  <style>
    /* Dashboard Controls */
    .dashboard-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .control-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      transition: background-color 0.2s;
    }
    
    .clear-btn {
      background-color: #dc3545;
      color: white;
    }
    
    .clear-btn:hover {
      background-color: #c82333;
    }
    
    .priority-btn {
      background-color: #ffc107;
      color: #212529;
    }
    
    .priority-btn:hover {
      background-color: #e0a800;
    }
    
    .reset-btn {
      background-color: #6c757d;
      color: white;
    }
    
    .reset-btn:hover {
      background-color: #5a6268;
    }
    
    /* Dropdown Styles */
    .control-group {
      position: relative;
      display: inline-block;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 200px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      transition: background-color 0.2s;
    }
    
    .dropdown-content a:hover {
      background-color: #f1f1f1;
    }
    
    .show-dropdown {
      display: block;
    }
    
    /* Empty State Styles */
    .dynamic-content-area {
      width: 100%;
    }
    
    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 50px 20px;
      background-color: #f8f9fa;
      border-radius: 8px;
      text-align: center;
      margin: 20px 0;
    }
    
    .empty-icon {
      font-size: 4rem;
      color: #6c757d;
      margin-bottom: 20px;
    }
    
    .empty-state h3 {
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #343a40;
    }
    
    .empty-state p {
      color: #6c757d;
      max-width: 500px;
      margin-bottom: 20px;
    }
  </style>
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/img/favicon.svg" />
  <link rel="icon" type="image/png" href="assets/img/favicon.png" />
</head>
<body>
  <!-- Authentication Check Script moved to tg-dashboard.js -->
  
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="container1">
      <div class="logo">
        <a href="tg-dashboard.html">
          <svg width="160" height="40" viewBox="0 0 160 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- Gate icon -->
            <rect x="8" y="8" width="14" height="24" rx="4" fill="#111111"/>
            <rect x="22" y="8" width="20" height="24" rx="4" fill="#FFD700"/>
            <!-- E-PASS text with modern font -->
            <g fill="#111111" font-family="'Montserrat', sans-serif" font-weight="800" letter-spacing="-0.2px">
              <!-- E -->
              <path d="M46 11H62V16H53V19H60V23H53V26H62V31H46V11Z" fill="#111111" stroke="#111111" stroke-width="0.7"/>
              <!-- Hyphen -->
              <rect x="63" y="20" width="9" height="3" fill="#111111"/>
              <!-- P -->
              <path d="M73 11H86C88.7614 11 91 13.2386 91 16V18C91 20.7614 88.7614 23 86 23H79V31H73V11Z" fill="#111111" stroke="#111111" stroke-width="0.7"/>
              <path d="M80 18H85C85.5523 18 86 17.5523 86 17V16C86 15.4477 85.5523 15 85 15H80V18Z" fill="white"/>
              <!-- A -->
              <path d="M92 31L97 11H106L111 31H105L104 26H99L98 31H92Z" fill="#111111" stroke="#111111" stroke-width="0.7"/>
              <path d="M100 22H103L101.5 16L100 22Z" fill="white"/>
              <!-- First S -->
              <path d="M113 12V16C113 18.2091 114.791 20 117 20H123C124.105 20 125 20.8954 125 22V27C125 29.2091 123.209 31 121 31H113V26H120C120.552 26 121 25.5523 121 25V24C121 23.4477 120.552 23 120 23H114C111.791 23 110 21.2091 110 19V14C110 12.3431 111.343 11 113 11H125V16H115C113.895 16 113 15.1046 113 14V12Z" fill="#111111" stroke="#111111" stroke-width="0.7"/>
              <!-- Second S -->
              <path d="M128 12V16C128 18.2091 129.791 20 132 20H138C139.105 20 140 20.8954 140 22V27C140 29.2091 138.209 31 136 31H128V26H135C135.552 26 136 25.5523 136 25V24C136 23.4477 135.552 23 135 23H129C126.791 23 125 21.2091 125 19V14C125 12.3431 126.343 11 128 11H140V16H130C128.895 16 128 15.1046 128 14V12Z" fill="#111111" stroke="#111111" stroke-width="0.7"/>
            </g>
            <path d="M74 27.5C74 29.433 72.433 31 70.5 31C68.567 31 67 29.433 67 27.5C67 25.567 68.567 24 70.5 24C72.433 24 74 25.567 74 27.5Z" fill="#FFD700"/>
            <path d="M70.5 9L74 12.5H67L70.5 9Z" fill="#FFD700"/>
            <rect x="69.5" y="12" width="2" height="12" fill="#FFD700"/>
          </svg>
        </a>
      </div>
      <div class="main-menu">
        <ul>
          <li><a href="tg-dashboard.html">Home</a></li>
          <li id="tgLogoutMenuItem" style="display:none;">
            <a class="btn btn-secondary nav-btn" href="#" id="tgLogoutBtn">
              <i class="fas fa-sign-out-alt"></i> Log Out
            </a>
          </li>
          <li id="changePasswordMenuItem" style="display:none;">
            <a class="btn btn-outline nav-btn" href="#" id="changePasswordBtn">
              <i class="fas fa-key"></i> Change Password
            </a>
          </li>
          <li id="tgLoginMenuItem">
            <a class="btn btn-primary nav-btn" href="#" id="signInBtn">
              <i class="fas fa-user"></i> Sign In
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-heading text-xxl">TG Dashboard</h1>
        <p class="hero-text">Please Login to access the TG dashboard Content</p>
        <div class="hero-buttons">
          <a href="#" class="btn btn-primary" id="heroSignInBtn">Sign In</a>
          <a href="#" class="btn" id="viewDashboardBtn" style="background-color: #FFD700; color: #111;">
            <i class="fas fa-tachometer-alt"></i> View Dashboard
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Sign In Modal -->
  <div id="signInModal" class="auth-modal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close-modal" id="closeModalBtn">&times;</button>
        <div class="auth-tabs">
          <button class="auth-tab active">Sign In</button>
        </div>
      </div>
      <div class="modal-body">
        <form id="loginForm" class="auth-form active">
          <h3 class="form-title">TG Login</h3>
          <p class="form-subtitle">Sign in to access your dashboard</p>
          <div class="form-group">
            <label for="email">Email Address</label>
            <div class="input-with-icon">
              <input type="email" id="email" placeholder="Enter your email" required />
              <i class="fas fa-envelope"></i>
            </div>
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <div class="input-with-icon">
              <input type="password" id="password" placeholder="Enter your password" required />
              <i class="fas fa-lock"></i>
            </div>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-sign-in-alt"></i> Sign In
            </button>
          </div>
          <div id="loginError" class="error-message"></div>
        </form>
      </div>
    </div>
  </div>

  <!-- Dashboard Section (hidden by default) -->
  <section id="dashboardSection" style="display:none;">
    <div class="container">
      <div class="dashboard-header">
        <h2>Gatepass Requests</h2>
        <div class="hod-selection">
          <label for="hodSelect">Select HOD:</label>
          <select id="hodSelect" class="form-control">
            <option value="">Loading HODs...</option>
          </select>
        </div>
      </div>
      
      <!-- Dashboard Controls -->
      <div class="dashboard-controls">
        <div class="control-group">
          <button id="clearHistoryDropdownBtn" class="control-btn clear-btn"><i class="fas fa-trash"></i> Clear History <i class="fas fa-caret-down"></i></button>
          <div id="clearHistoryDropdown" class="dropdown-content">
            <a href="#" id="clearAllHistoryBtn">All History</a>
            <a href="#" id="clearOlderThan30DaysBtn">Older than 30 days</a>
            <a href="#" id="clearOlderThan7DaysBtn">Older than 7 days</a>
            <a href="#" id="clearCompletedRequestsBtn">Completed Requests Only</a>
          </div>
        </div>
        <button id="priorityViewBtn" class="control-btn priority-btn"><i class="fas fa-sort"></i> Priority View</button>
        <button id="resetViewBtn" class="control-btn reset-btn"><i class="fas fa-undo"></i> Reset View</button>
        <div class="control-group auto-refresh-control">
          <label for="autoRefreshToggle" class="toggle-label">
            <input type="checkbox" id="autoRefreshToggle" checked>
            <span class="toggle-text"><i class="fas fa-sync-alt"></i> Auto Refresh</span>
          </label>
        </div>
      </div>
      
      <!-- Dynamic Content Area -->
      <div id="dynamicContentArea" class="dynamic-content-area">
        <div class="empty-state">
          <i class="fas fa-ticket-alt empty-icon"></i>
          <h3>No Active Requests</h3>
          <p>All request history has been cleared. New requests will appear here when they are submitted.</p>
          <button id="refreshDashboardBtn" class="btn btn-primary">
            <i class="fas fa-sync-alt"></i> Refresh Dashboard
          </button>
        </div>
      </div>
      
      <div class="table-container" style="max-height: 400px; overflow-y: auto;">
        <table class="admin-table">
          <thead>
            <tr>
              <th>Student</th>
              <th>Enrollment</th>
              <th>Ticket ID</th>
              <th>Reason</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="requestsTable"></tbody>
        </table>
      </div>
    </div>
  </section>

  <script src="js/tg-dashboard.js"></script>
  <script src="js/navbar-enhancement.js"></script>
  <script src="js/script.js"></script>
  <script src="js/change-password.js"></script>

  <!-- Footer Section -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <!-- Connect Section -->
        <div class="connect-section">
          <a href="https://github.com" target="_blank" class="social-icon"><i class="fab fa-github"></i></a>
          <a href="https://linkedin.com" target="_blank" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
          <a href="https://twitter.com" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
        </div>
        
        <!-- Credit Section -->
        <div class="credit-section">
          <div class="made-with-love">
            Made with <span class="heart">❤️</span> by <span class="author-name">Ayush Kumar Pandey</span>
          </div>
        </div>
        
        <!-- Copyright Section -->
        <p class="copyright">&copy; 2025 GatePass System</p>
      </div>
    </div>
  </footer>
  
  <!-- Footer Scripts -->
  <script src="js/footer-animation.js"></script>
  <script src="js/footer-background.js"></script>
  
  <!-- Change Password Modal -->
  <div id="changePasswordModal" class="change-password-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Change Password</h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="changePasswordForm">
          <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <div class="input-with-icon">
              <input type="password" id="currentPassword" placeholder="Enter your current password" required>
              <i class="fas fa-lock"></i>
            </div>
          </div>
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <div class="input-with-icon">
              <input type="password" id="newPassword" placeholder="Enter your new password" required>
              <i class="fas fa-lock"></i>
            </div>
            <div class="password-strength">
              <div class="password-strength-bar"></div>
            </div>
            <div class="password-strength-text">Password strength</div>
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm New Password</label>
            <div class="input-with-icon">
              <input type="password" id="confirmPassword" placeholder="Confirm your new password" required>
              <i class="fas fa-lock"></i>
            </div>
          </div>
          <div id="passwordError" class="error-message"></div>
          <div id="passwordSuccess" class="success-message"></div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-key"></i> Change Password
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
</html>